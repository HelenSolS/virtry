# Virtual Try-On - –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–∏–º–µ—Ä–æ—á–Ω–∞—è

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø—Ä–∏–º–µ—Ä–∫–∏ –æ–¥–µ–∂–¥—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI —á–µ—Ä–µ–∑ **Cloudflare AI Gateway**.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚ú® –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —á–µ–ª–æ–≤–µ–∫–∞ –∏ –æ–¥–µ–∂–¥—ã
- ü§ñ AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Gemini 2.5 Flash IMAGE (Nano Banana)
- üåê **Cloudflare AI Gateway** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, rate limiting
- üìã **–î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø–æ–¥—Ö–æ–¥** (–∫–∞–∫ –≤ –≤–∏–¥–µ–æ):
  - –®–∞–≥ 1: AI –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–¥–µ–∂–¥—É ‚Üí JSON
  - –®–∞–≥ 2: AI –ø—Ä–∏–º–µ–Ω—è–µ—Ç –æ–¥–µ–∂–¥—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚ö° –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ Cloudflare Workers

## –¢–µ–∫—É—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI —Å hero-—Å–µ–∫—Ü–∏–µ–π –∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–≤—É—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—á–µ–ª–æ–≤–µ–∫ + –æ–¥–µ–∂–¥–∞)
- Drag & Drop –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- **Cloudflare AI Gateway –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- **–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è:**
  - PHOTO B ‚Üí JSON –æ–ø–∏—Å–∞–Ω–∏–µ –æ–¥–µ–∂–¥—ã
  - PHOTO A + PHOTO B + –æ–ø–∏—Å–∞–Ω–∏–µ ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini 2.5 Flash IMAGE (Nano Banana)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
  - –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Å–æ–≤–µ—Ç–∞–º–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

‚ùå **–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- Hero –≤–∏–¥–µ–æ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–º–µ–Ω–∞ –∑–∞–≥–ª—É—à–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ)
- –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–º–µ—Ä–æ–∫
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ API

### GET /
–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### POST /api/tryon
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø—Ä–∏–º–µ—Ä–∫–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (FormData):**
- `photo` (File) - —Ñ–æ—Ç–æ —á–µ–ª–æ–≤–µ–∫–∞
- `outfit` (File) - —Ñ–æ—Ç–æ –æ–¥–µ–∂–¥—ã

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "image": "https://replicate.delivery/pbxt/..."
}
```

**–û—à–∏–±–∫–∏:**
```json
{
  "error": "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
  "message": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
  "details": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
  "support": "–°–æ–≤–µ—Ç—ã –ø–æ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
}
```

**–¢–∏–ø—ã –æ—à–∏–±–æ–∫:**
- `same_as_input` - AI –≤–µ—Ä–Ω—É–ª —Ç–æ –∂–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (warning)
- `SAFETY` / `BLOCKED_REASON` - –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Ñ–∏–ª—å—Ç—Ä–æ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏ (timeout, fetch failed)
- –û—à–∏–±–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (stack overflow)

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [ERROR_HANDLING.md](./ERROR_HANDLING.md), [FAQ.md](./FAQ.md)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- **Input**: –î–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (photo, outfit) –≤ —Ñ–æ—Ä–º–∞—Ç–µ File/Blob
- **Processing**: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ data URLs –¥–ª—è Replicate API
- **Output**: URL —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç Replicate

### –°–µ—Ä–≤–∏—Å—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è
- **Cloudflare Workers**: Edge runtime –¥–ª—è API
- **Google Gemini 2.5 Flash IMAGE (Nano Banana)**: AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø—Ä–∏–º–µ—Ä–∫–∏
- –ù–µ—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (stateless)

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç 2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ UI
2. Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç FormData –Ω–∞ `/api/tryon`
3. Backend –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ base64 (—á–∞–Ω–∫–∏ –ø–æ 8KB)
4. Backend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ Gemini 2.5 Flash IMAGE API
5. Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –æ—à–∏–±–∫–∏:
   - –§–∏–ª—å—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (SAFETY, BLOCKED_REASON)
   - –ò–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (same_as_input)
   - API –æ—à–∏–±–∫–∏
6. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–∫ data URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —É–≤–∏–¥–∏—Ç–µ hero-—Å–µ–∫—Ü–∏—é
2. **–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑** - –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–µ–ª–∫—É –∏–ª–∏ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–≤–æ–µ —Ñ–æ—Ç–æ** - –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–µ—Ä–≤—É—é –æ–±–ª–∞—Å—Ç—å –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
4. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –æ–¥–µ–∂–¥—ã** - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –≤—Ç–æ—Ä–æ–π –æ–±–ª–∞—Å—Ç–∏
5. **–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–∑"** - –¥–æ–∂–¥–∏—Ç–µ—Å—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (10-30 —Å–µ–∫—É–Ω–¥)
6. **–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è —Å–ø—Ä–∞–≤–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º:
- –§–æ—Ä–º–∞—Ç—ã: JPG, PNG, WEBP
- –§–æ—Ç–æ —á–µ–ª–æ–≤–µ–∫–∞: –≤ –ø–æ–ª–Ω—ã–π —Ä–æ—Å—Ç, —Ö–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ
- –§–æ—Ç–æ –æ–¥–µ–∂–¥—ã: —á–µ—Ç–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –æ–¥–µ–∂–¥—ã

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
cd /home/user/webapp

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á
cp .dev.vars.example .dev.vars
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .dev.vars –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à GOOGLE_API_KEY

# 4. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
npm run build

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ PM2
fuser -k 3000/tcp 2>/dev/null || true
pm2 start ecosystem.config.cjs

# 6. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://localhost:3000
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ Replicate API —Ç–æ–∫–µ–Ω–∞:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://replicate.com/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, $5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –ø–æ–¥–∞—Ä–æ–∫)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ API tokens: https://replicate.com/account/api-tokens
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.dev.vars`:
   ```
   REPLICATE_API_TOKEN=r8_your_actual_token_here
   ```

### –î–µ–ø–ª–æ–π –Ω–∞ Cloudflare Pages:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å API –∫–ª—é—á (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ AI)
# –í—ã–∑—ã–≤–∞–µ—Ç—Å—è setup_cloudflare_api_key —á–µ—Ä–µ–∑ AI

# 2. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
npm run build

# 3. –°–æ–∑–¥–∞—Ç—å Pages –ø—Ä–æ–µ–∫—Ç
npx wrangler pages project create webapp --production-branch main

# 4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
npx wrangler pages deploy dist --project-name webapp

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã
npx wrangler pages secret put REPLICATE_API_TOKEN --project-name webapp
# –í–≤–µ–¥–∏—Ç–µ –≤–∞—à Replicate API —Ç–æ–∫–µ–Ω
```

## –î–µ–ø–ª–æ–π

- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Cloudflare Pages
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ù–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: 
  - Hono (Backend framework)
  - TypeScript
  - Vanilla JS (Frontend)
  - Replicate IDM-VTON API
  - Cloudflare Workers
- **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2026-02-04

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ hero –≤–∏–¥–µ–æ** 
   - –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫—É –Ω–∞ –≤–∏–¥–µ–æ –º–æ–¥—ã/–æ–¥–µ–∂–¥—ã
   - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ –æ—Ç Sora –∏–ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Replicate API —Ç–æ–∫–µ–Ω**
   - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –Ω–∞ https://replicate.com/account/api-tokens
   - –î–æ–±–∞–≤–∏—Ç—å –≤ `.dev.vars` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ wrangler secrets –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

3. **–ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Cloudflare Pages**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run deploy:prod`
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å custom domain (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

4. **–£–ª—É—á—à–∏—Ç—å UI/UX**
   - –î–æ–±–∞–≤–∏—Ç—å preview —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –ì–∞–ª–µ—Ä–µ—è –ø—Ä–∏–º–µ—Ä–æ–≤
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
   - Rate limiting –¥–ª—è API

6. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –æ–¥–µ–∂–¥—ã
   - –í—ã–±–æ—Ä —Å—Ç–∏–ª—è/–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
   - –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–º–µ—Ä–æ–∫ (—Å D1 –∏–ª–∏ KV)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
webapp/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.tsx          # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Hono)
‚îÇ   ‚îî‚îÄ‚îÄ renderer.tsx       # JSX renderer –¥–ª—è HTML
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ static/
‚îÇ       ‚îú‚îÄ‚îÄ style.css      # –°—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ app.js         # Frontend JavaScript
‚îÇ       ‚îî‚îÄ‚îÄ hero-video.mp4 # Hero –≤–∏–¥–µ–æ (–∑–∞–≥–ª—É—à–∫–∞)
‚îú‚îÄ‚îÄ .dev.vars.example      # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore             # Git ignore —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ ecosystem.config.cjs   # PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ wrangler.jsonc         # Cloudflare –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ package.json           # Dependencies –∏ scripts
‚îî‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API Endpoint Implementation

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

1. **–®–∞–≥ 1 - –û–ø–∏—Å–∞–Ω–∏–µ –æ–¥–µ–∂–¥—ã:**
   - –ú–æ–¥–µ–ª—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–¥–µ–∂–¥—ã
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç: —Ç–∏–ø, —Å—Ç–∏–ª—å, —Ü–≤–µ—Ç–∞, –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –¥–µ—Ç–∞–ª–∏
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

2. **–®–∞–≥ 2 - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è:**
   - –ü–æ–ª—É—á–∞–µ—Ç –æ–±–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è + –æ–ø–∏—Å–∞–Ω–∏–µ –æ–¥–µ–∂–¥—ã
   - –°–æ–∑–¥–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π prompt —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### Prompt Engineering

–ö–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ–º–ø—Ç–∞:
- –Ø–≤–Ω–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (PHOTO A, PHOTO B)
- –ß–µ—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é (–ª–∏—Ü–æ, –ø–æ–∑–∞, —Ñ–æ–Ω)
- –û–ø–∏—Å–∞–Ω–∏–µ –æ–¥–µ–∂–¥—ã –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–í–∏–¥–µ–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è** - —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π video —Ñ–∞–π–ª
2. **–ö–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–∫–∏** - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –≤—Ö–æ–¥–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏** - 10-30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
4. **–õ–∏–º–∏—Ç—ã API** - Google Gemini –∏–º–µ–µ—Ç rate limits

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## üåê Cloudflare AI Gateway

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Cloudflare AI Gateway –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Gemini API.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Gateway:
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ API
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **Rate Limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:
–°–º. [GATEWAY_SETUP.md](./GATEWAY_SETUP.md) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `GATEWAY_URL` - URL –≤–∞—à–µ–≥–æ Cloudflare AI Gateway
- `GATEWAY_TOKEN` - —Ç–æ–∫–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

