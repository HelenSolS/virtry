# ๐จ Virtual Try-On - ะะธัััะฐะปัะฝะฐั ะฟัะธะผะตัะพัะฝะฐั

> AI-powered ะฒะธัััะฐะปัะฝะฐั ะฟัะธะผะตัะบะฐ ะพะดะตะถะดั ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ Gemini 2.5 Flash IMAGE ัะตัะตะท Cloudflare AI Gateway

---

## ๐๏ธ ะััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Sandbox (AI Developer)               โ
โ โ ะะฐะทัะฐะฑะพัะบะฐ                         โ
โ โ ะะพะบะฐะปัะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต             โ
โ โ ะัะฑัะต ัะบัะฟะตัะธะผะตะฝัั                 โ
โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ
              โ git push (ะฒัะต ะบะพะผะผะธัั)
              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ GitHub                               โ
โ โ ะััะพัะธั ะธะทะผะตะฝะตะฝะธะน                  โ
โ โ Code review                        โ
โ โ Backup ะบะพะดะฐ                        โ
โ โ ะะ ะดะตะฟะปะพะธั ะฐะฒัะพะผะฐัะธัะตัะบะธ           โ
โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ
              โ vercel --prod (ะฒัััะฝัั)
              โ ะขะะะฌะะ ัะธะฝะฐะปัะฝัะต ะฒะตััะธะธ
              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Vercel Production                    โ
โ โ https://virtry.vercel.app         โ
โ โ ะขะพะปัะบะพ ััะฒะตัะถะดัะฝะฝัะต ัะตะปะธะทั        โ
โ โ ะะพะปะฝะฐั ัะฟัะฐะฒะปัะตะผะพััั              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ะคะธะปะพัะพัะธั ัะฐะทัะฐะฑะพัะบะธ

### ะขัะธ ััะพะฒะฝั:

1. **ะะฐะทัะฐะฑะพัะบะฐ** (Sandbox) - ะทะดะตัั ะฒัั ะฟัะพะธััะพะดะธั
2. **ะขะตััะธัะพะฒะฐะฝะธะต** (GitHub) - ะฟัะพะฒะตัะบะฐ ะธ ััะฒะตัะถะดะตะฝะธะต
3. **Production** (Vercel) - ัะพะปัะบะพ ะณะพัะพะฒัะต ะฒะตััะธะธ

### ะะพะปะฝะฐั ัะฟัะฐะฒะปัะตะผะพััั:

- โ ะั ะบะพะฝััะพะปะธััะตัะต ะบะฐะถะดัะน ะดะตะฟะปะพะน
- โ ะะธะบะฐะบะพะณะพ ะฐะฒัะพะดะตะฟะปะพั
- โ `git push` โ production update
- โ Production ะพะฑะฝะพะฒะปัะตััั ะขะะะฌะะ ะบะพะผะฐะฝะดะพะน `vercel --prod`

---

## ๐ ะขะตะบััะตะต ัะพััะพัะฝะธะต

### โ ะะตะฐะปะธะทะพะฒะฐะฝะพ

**Backend (Vercel Edge Function)**:
- โ 2-step AI approach (ะพะฟะธัะฐะฝะธะต ะพะดะตะถะดั โ ะณะตะฝะตัะฐัะธั)
- โ Cloudflare AI Gateway integration
- โ Gemini 2.5 Flash IMAGE (Nano Banana)
- โ Comprehensive error handling
- โ ะะฑะฝะฐััะถะตะฝะธะต ะธะดะตะฝัะธัะฝัั ะธะทะพะฑัะฐะถะตะฝะธะน
- โ Safety filters
- โ ะะพะฝััะฝัะต ัะพะพะฑัะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปัะผ

**Frontend**:
- โ ะะดะฐะฟัะธะฒะฝัะน UI ั hero section
- โ Drag & Drop ะทะฐะณััะทะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน
- โ Real-time preview
- โ Smooth animations
- โ Loading states
- โ Error handling UI

**Infrastructure**:
- โ Vercel Edge Functions ะดะปั ะณะปะพะฑะฐะปัะฝะพะณะพ edge deployment
- โ Cloudflare AI Gateway ะดะปั security ะธ caching
- โ Manual deploy workflow ะดะปั ะฟะพะปะฝะพะณะพ ะบะพะฝััะพะปั

### ๐ง ะะต ัะตะฐะปะธะทะพะฒะฐะฝะพ

- โณ Hero video (placeholder ััะตะฑัะตั ะทะฐะผะตะฝั)
- โณ ะััะพัะธั ะฟัะธะผะตัะพะบ (Cloudflare D1)
- โณ ะกะบะฐัะธะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ
- โณ ะะฐะปะตัะตั ะฟัะธะผะตัะพะฒ

---

## ๐ ะัััััะน ััะฐัั

### ะะปั ัะฐะทัะฐะฑะพัะบะธ (Sandbox):

```bash
# 1. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
npm install

# 2. ะะฐัััะพะนัะต ะปะพะบะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต
cp .dev.vars.example .dev.vars
nano .dev.vars
# ะะพะฑะฐะฒััะต GATEWAY_URL ะธ GATEWAY_TOKEN

# 3. ะะธะปะด
npm run build

# 4. ะะฐะฟัััะธัะต ะปะพะบะฐะปัะฝะพ
pm2 start ecosystem.config.cjs

# 5. ะัะพะฒะตัััะต
curl http://localhost:3000
```

### ะะปั ะดะตะฟะปะพั ะฝะฐ Production (Vercel):

```bash
# 1. ะฃััะฐะฝะพะฒะธัะต Vercel CLI (ะพะดะธะฝ ัะฐะท)
npm install -g vercel

# 2. ะะพะนะดะธัะต ะฒ ะฐะบะบะฐัะฝั
vercel login

# 3. ะะฐัััะพะนัะต env variables (ะพะดะธะฝ ัะฐะท)
vercel env add GATEWAY_URL production
vercel env add GATEWAY_TOKEN production

# 4. ะะตะฟะปะพะน ะฝะฐ Production (ะบะพะณะดะฐ ะณะพัะพะฒะพ)
vercel --prod
```

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
webapp/
โโโ api/
โ   โโโ tryon.js              # Vercel Edge Function (API endpoint)
โโโ src/
โ   โโโ index.tsx             # Cloudflare Workers ะฒะตััะธั (Hono)
โ   โโโ renderer.tsx          # SSR renderer
โโโ public/
โ   โโโ static/
โ       โโโ app.js            # Frontend JavaScript
โ       โโโ style.css         # CSS ััะธะปะธ
โโโ dist/
โ   โโโ index.html            # ะกัะฐัะธัะตัะบะฐั ัััะฐะฝะธัะฐ ะดะปั Vercel
โ   โโโ static/               # ะกะบะพะผะฟะธะปะธัะพะฒะฐะฝะฝัะต ััะฐัะธัะตัะบะธะต ัะฐะนะปั
โ   โโโ _worker.js            # Cloudflare Workers build
โโโ vercel.json               # ะะพะฝัะธะณััะฐัะธั Vercel
โโโ wrangler.jsonc            # ะะพะฝัะธะณััะฐัะธั Cloudflare
โโโ ecosystem.config.cjs      # PM2 ะบะพะฝัะธะณััะฐัะธั ะดะปั sandbox
โโโ package.json
```

---

## ๐๏ธ ะขะตัะฝะพะปะพะณะธะธ

### Backend
- **Vercel Edge Functions** - serverless API endpoints ะฝะฐ edge
- **Cloudflare AI Gateway** - security, caching, monitoring
- **Hono** - ะปะตะณะบะพะฒะตัะฝัะน web framework (ะดะปั Cloudflare ะฒะตััะธะธ)

### AI
- **Google Gemini 2.5 Flash IMAGE** (Nano Banana)
- **2-step approach**:
  1. AI ะฐะฝะฐะปะธะทะธััะตั ะพะดะตะถะดั (PHOTO B) โ JSON description
  2. AI ะฟัะธะผะตะฝัะตั ะพะดะตะถะดั ะฝะฐ ัะตะปะพะฒะตะบะฐ (PHOTO A) ั ะพะฟะธัะฐะฝะธะตะผ

### Frontend
- **Vanilla JavaScript** - ะฑะตะท ััะตะนะผะฒะพัะบะพะฒ
- **Modern CSS** - animations, gradients, responsive
- **Drag & Drop API**

---

## ๐ Workflow ัะฐะทัะฐะฑะพัะบะธ

### ะะถะตะดะฝะตะฒะฝะฐั ัะฐะฑะพัะฐ:

```bash
# 1. ะะฐะทัะฐะฑะพัะบะฐ ะฒ Sandbox
# ะะตะดะฐะบัะธััะตัะต ะบะพะด, ัะตััะธััะตัะต ะปะพะบะฐะปัะฝะพ

# 2. ะะพะผะผะธัะธัะต ะฒ GitHub (ะปัะฑัะต ะธะทะผะตะฝะตะฝะธั)
git add .
git commit -m "WIP: Add new feature"
git push origin main
# โ GitHub ะพะฑะฝะพะฒะปัะฝ
# โ Vercel ะะ ะดะตะฟะปะพะธั (ะฟะพะปะฝัะน ะบะพะฝััะพะปั!)

# 3. ะัะพะดะพะปะถะฐะตัะต ัะฐะฑะพัั
# ะัั ะบะพะผะผะธัั, ัะตััั, ะธัะฟัะฐะฒะปะตะฝะธั...

# 4. ะะพะณะดะฐ ะณะพัะพะฒะพ ะบ Production
git commit -m "Release v1.0.1: Feature complete"
git push origin main

# 5. ะะฃะงะะะ ะดะตะฟะปะพะน ะฝะฐ Vercel
vercel --prod
# โ ะขะตะฟะตัั Production ะพะฑะฝะพะฒะปัะฝ!
```

---

## ๐ ะกััะปะบะธ

- **GitHub**: https://github.com/HelenSolS/virtry
- **Production** (ะบะพะณะดะฐ ะทะฐะดะตะฟะปะพะธัะต): https://virtry.vercel.app
- **Sandbox**: http://localhost:3000

---

## ๐ ะะพะบัะผะตะฝัะฐัะธั

### ะัะฝะพะฒะฝัะต ัะฐะนะปั:

| ะคะฐะนะป | ะะฟะธัะฐะฝะธะต |
|------|----------|
| **PRODUCTION_WORKFLOW.md** | โญ ะะปะฐะฒะฝะฐั ะธะฝััััะบัะธั: ัะฐะทัะฐะฑะพัะบะฐ โ ัะตััะธัะพะฒะฐะฝะธะต โ production |
| **VERCEL_AUTO_DEPLOY.md** | ะะฒัะพะดะตะฟะปะพะน (ะตัะปะธ ะฝัะถะตะฝ ะฒ ะฑัะดััะตะผ) |
| **ARCHITECTURE.md** | ะััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ |
| **COMPLETE.md** | ะะพะปะฝะพะต ัะตะทัะผะต ะฟัะพะตะบัะฐ |
| **GATEWAY_SETUP.md** | ะะฐัััะพะนะบะฐ Cloudflare AI Gateway |
| **ERROR_HANDLING.md** | ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ |
| **FAQ.md** | ะงะฐััะพ ะทะฐะดะฐะฒะฐะตะผัะต ะฒะพะฟัะพัั |
| **HOSTING_GUIDE.md** | ะฅะพััะธะฝะณ ะธ ะผะพะฝะตัะธะทะฐัะธั |

### ะะปั ะฑััััะพะณะพ ััะฐััะฐ:

1. **PRODUCTION_WORKFLOW.md** - ะฝะฐัะฝะธัะต ะพัััะดะฐ
2. **GATEWAY_SETUP.md** - ะฝะฐัััะพะนัะต Gateway
3. ะะฐัะตะผ: `vercel --prod`

---

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### Environment Variables (Production):

```bash
GATEWAY_URL=https://gateway.ai.cloudflare.com/v1/{account_id}/virtry-gateway/google-ai-studio/v1beta/models/gemini-2.5-flash-image:generateContent
GATEWAY_TOKEN=cf_xxxxxxxxxxxxx
```

**ะะฐะถะฝะพ**:
- โ API ะบะปััะธ ัะพะปัะบะพ ะฝะฐ ะฑัะบะตะฝะดะต
- โ ะะปะธะตะฝัั ะฝะธะบะพะณะดะฐ ะฝะต ะฒะธะดัั ัะพะบะตะฝั
- โ ะัะต ะทะฐะฟัะพัั ัะตัะตะท Cloudflare Gateway
- โ Rate limiting ะธ ะผะพะฝะธัะพัะธะฝะณ

---

## ๐ฐ ะกัะพะธะผะพััั (ะฑะตัะฟะปะฐัะฝัะน ัะฐัะธั)

| ะกะตัะฒะธั | ะะธะผะธัั | ะกัะพะธะผะพััั |
|--------|--------|-----------|
| **Vercel** | 100GB bandwidth/ะผะตั | $0 |
| **Gemini API** | 15 RPM, 1,500 RPD | $0 |
| **Cloudflare Gateway** | Unlimited | $0 |

**ะัะพะณะพ**: $0/ะผะตั ะดะปั ~100-200 ะฟะพะปัะทะพะฒะฐัะตะปะตะน/ะดะตะฝั

---

## ๐ฏ API Endpoints

### POST /api/tryon

ะะตะฝะตัะฐัะธั ะฒะธัััะฐะปัะฝะพะน ะฟัะธะผะตัะบะธ.

**Request**:
```bash
curl -X POST https://virtry.vercel.app/api/tryon \
  -F "photo=@person.jpg" \
  -F "outfit=@clothing.jpg"
```

**Response**:
```json
{
  "success": true,
  "image": "data:image/jpeg;base64,...",
  "outfitDescription": "{\"garment_type\":\"dress\",...}"
}
```

**Errors**:
```json
{
  "error": "ะัะธะฑะบะฐ",
  "message": "ะะพะฝััะฝะพะต ะพะฟะธัะฐะฝะธะต",
  "details": {...}
}
```

---

## ๐ Troubleshooting

### Gateway errors

**ะัะพะฑะปะตะผะฐ**: `Gateway ะฝะต ะฝะฐัััะพะตะฝ`  
**ะะตัะตะฝะธะต**: ะัะพะฒะตัััะต GATEWAY_URL ะธ GATEWAY_TOKEN ะฒ Vercel Dashboard

### Build errors

**ะัะพะฑะปะตะผะฐ**: `vercel --prod` fails  
**ะะตัะตะฝะธะต**: 
```bash
npm run build  # ะัะพะฒะตัััะต ะปะพะบะฐะปัะฝะพ
vercel logs    # ะะพัะผะพััะธัะต ะปะพะณะธ
```

### Production ะฝะต ะพะฑะฝะพะฒะปัะตััั

**ะัะพะฑะปะตะผะฐ**: `git push` ะฝะต ะพะฑะฝะพะฒะปัะตั Vercel  
**ะะตัะตะฝะธะต**: ะญัะพ ะฟัะฐะฒะธะปัะฝะพ! ะัะฟะพะปัะทัะนัะต `vercel --prod` ะดะปั ะดะตะฟะปะพั

---

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ

### Immediate (ัะตะณะพะดะฝั):

- [ ] ะะฐัััะพะธัั Cloudflare AI Gateway (ัะผ. GATEWAY_SETUP.md)
- [ ] ะฃััะฐะฝะพะฒะธัั Vercel CLI: `npm install -g vercel`
- [ ] ะะตัะฒัะน ะดะตะฟะปะพะน: `vercel --prod`
- [ ] ะัะพัะตััะธัะพะฒะฐัั Production

### Short-term (1-2 ะฝะตะดะตะปะธ):

- [ ] ะะฐะผะตะฝะธัั hero-video.mp4 ะฝะฐ ัะตะฐะปัะฝะพะต ะฒะธะดะตะพ
- [ ] ะะพะฑะฐะฒะธัั analytics (Vercel Analytics)
- [ ] SEO optimization
- [ ] Custom domain

### Long-term (1+ ะผะตััั):

- [ ] ะััะพัะธั ะฟัะธะผะตัะพะบ (Cloudflare D1)
- [ ] ะกะบะฐัะธะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ
- [ ] ะะฐะปะตัะตั ะฟัะธะผะตัะพะฒ
- [ ] ะะพะฝะตัะธะทะฐัะธั (Freemium)

---

## ๐ ะะพะดะดะตัะถะบะฐ

- **GitHub Issues**: https://github.com/HelenSolS/virtry/issues
- **ะะพะบัะผะตะฝัะฐัะธั**: ะกะผ. ัะฐะนะปั `*.md` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ

---

## ๐ ะะธัะตะฝะทะธั

MIT License

---

## โ ะัะพะณ

### ะงัะพ ะตััั:

- โ ะะพะปะฝะพัััั ัะฐะฑะพัะธะน Virtual Try-On
- โ 2-step AI approach (ะบะฐะบ ะฒ ะฒะธะดะตะพ)
- โ Vercel Edge Functions
- โ Cloudflare AI Gateway
- โ Comprehensive error handling
- โ Beautiful UI
- โ **ะะพะปะฝะฐั ัะฟัะฐะฒะปัะตะผะพััั ะดะตะฟะปะพัะผะธ**

### Workflow:

```
ะะฐะทัะฐะฑะพัะบะฐ (ะทะดะตัั) โ ะขะตััะธัะพะฒะฐะฝะธะต (GitHub) โ Production (Vercel ะฒัััะฝัั)
```

### ะะพะปะฝัะน ะบะพะฝััะพะปั:

- โ ะั ัะตัะฐะตัะต ะะะะะ ะดะตะฟะปะพะธัั
- โ ะะธะบะฐะบะพะณะพ ะฐะฒัะพะดะตะฟะปะพั
- โ `git push` โ production update
- โ Production = `vercel --prod`

---

๐ **ะะฐัะฝะธัะต ั PRODUCTION_WORKFLOW.md!**
