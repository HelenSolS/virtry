# ğŸ”’ Ğ—ĞĞ©Ğ˜Ğ©Ğ•ĞĞĞĞ¯ Ğ‘ĞĞ—Ğ MVP - ĞĞ• Ğ¢Ğ ĞĞ“ĞĞ¢Ğ¬!

## âœ… Ğ§Ğ¢Ğ Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢ Ğ˜ ĞĞ• Ğ”ĞĞ›Ğ–ĞĞ Ğ›ĞĞœĞĞ¢Ğ¬Ğ¡Ğ¯

### ğŸ›¡ï¸ CORE Ğ¤Ğ£ĞĞšĞ¦Ğ˜ĞĞĞĞ› (ĞĞ•ĞŸĞ Ğ˜ĞšĞĞ¡ĞĞĞ’Ğ•ĞĞĞ«Ğ™)

```
1. Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ„Ğ¾Ñ‚Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
2. Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ„Ğ¾Ñ‚Ğ¾ Ğ¾Ğ´ĞµĞ¶Ğ´Ñ‹  
3. Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ĞºĞ¸ (gemini-2.5-flash + gemini-2.5-flash-image)
4. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ
5. ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
```

### ğŸ”’ Ğ—ĞĞ©Ğ˜Ğ©Ğ•ĞĞĞ«Ğ• Ğ¤ĞĞ™Ğ›Ğ« (ĞĞ• Ğ˜Ğ—ĞœĞ•ĞĞ¯Ğ¢Ğ¬)

```
api/
â”œâ”€â”€ describe.js         â† CORE: ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¾Ğ´ĞµĞ¶Ğ´Ñ‹
â””â”€â”€ generate.js         â† CORE: Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Try-On

public/static/
â”œâ”€â”€ app.js              â† CORE: Frontend Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â””â”€â”€ style.css           â† CORE: Ğ¡Ñ‚Ğ¸Ğ»Ğ¸

public/
â””â”€â”€ index.html          â† CORE: Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°

.dev.vars               â† CORE: Environment
dev-server.mjs          â† CORE: Dev ÑĞµÑ€Ğ²ĞµÑ€
ecosystem.dev.config.cjs â† CORE: PM2 ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
```

---

## ğŸ“‹ ĞĞĞ’Ğ«Ğ• ĞœĞĞ”Ğ£Ğ›Ğ˜ (Ğ¢Ğ— ĞĞ¢ ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ•Ğ›Ğ¯)

### 0ï¸âƒ£ Ğ‘ĞĞ—ĞĞ’ĞĞ• ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ
- âœ… ĞĞ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ»Ğ¾Ğ¼Ğ°ĞµĞ¼ Ğ² Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¼ MVP
- âœ… Ğ’ÑĞµ Ğ´Ğ¾Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ¾
- âœ… Ğ¤Ğ»Ğ°Ğ³Ğ¸ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ/Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ñ„Ğ¸Ñ‡
- âœ… Ğ£Ğ´Ğ¾Ğ±Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

---

### 1ï¸âƒ£ ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ•Ğ›Ğ¬ Ğ˜ ĞĞ’Ğ¢ĞĞ Ğ˜Ğ—ĞĞ¦Ğ˜Ğ¯

**ĞĞ¾Ğ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹** (ĞĞ• Ğ¢Ğ ĞĞ“ĞĞ®Ğ¢ Ğ‘ĞĞ—Ğ£):
```
api/
â””â”€â”€ user/
    â”œâ”€â”€ create.js           â† POST /api/user/create
    â”œâ”€â”€ get.js              â† GET /api/user/me
    â””â”€â”€ update.js           â† PATCH /api/user/me

migrations/
â””â”€â”€ 0001_users.sql          â† CREATE TABLE users

public/static/
â””â”€â”€ auth-module.js          â† ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
```

**Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”**:
```sql
CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  external_id TEXT UNIQUE NOT NULL,
  source TEXT NOT NULL, -- 'telegram' | 'web'
  terms_accepted_at DATETIME,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

**Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ**:
- Telegram Mini App: `telegram_id` â†’ `external_id`
- Web: Magic link / OAuth â†’ `external_id`

---

### 2ï¸âƒ£ Ğ®Ğ Ğ˜Ğ”Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ™ Ğ‘Ğ›ĞĞš

**ĞĞ¾Ğ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹**:
```
api/
â””â”€â”€ terms/
    â”œâ”€â”€ accept.js           â† POST /api/terms/accept
    â””â”€â”€ status.js           â† GET /api/terms/status

public/
â””â”€â”€ terms.html              â† Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ñ Ğ¾Ñ„ĞµÑ€Ñ‚Ğ¾Ğ¹
â””â”€â”€ privacy.html            â† ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

public/static/
â””â”€â”€ terms-modal.js          â† ĞœĞ¾Ğ´Ğ°Ğ»ÑŒ Ñ Ñ‡ĞµĞºĞ±Ğ¾ĞºÑĞ¾Ğ¼
```

**Ğ›Ğ¾Ğ³Ğ¸ĞºĞ°**:
- ĞŸĞµÑ€ĞµĞ´ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸ĞµĞ¹ â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¼Ğ¾Ğ´Ğ°Ğ»ÑŒ Ñ Ñ‡ĞµĞºĞ±Ğ¾ĞºÑĞ¾Ğ¼
- ĞŸÑ€Ğ¸ ÑĞ¾Ğ³Ğ»Ğ°ÑĞ¸Ğ¸ â†’ `POST /api/terms/accept`
- Backend Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ `terms_accepted_at != null`
- Ğ•ÑĞ»Ğ¸ Ğ½ĞµÑ‚ â†’ Ğ¾ÑˆĞ¸Ğ±ĞºĞ° `terms_not_accepted`

---

### 3ï¸âƒ£ ĞŸĞĞ”ĞŸĞ˜Ğ¡ĞšĞ Â«ĞœĞĞ“Ğ˜Ğ¯Â»

**ĞĞ¾Ğ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹**:
```
api/
â””â”€â”€ subscription/
    â”œâ”€â”€ status.js           â† GET /api/subscription/status
    â”œâ”€â”€ create.js           â† POST /api/subscription/create
    â””â”€â”€ webhook.js          â† POST /api/subscription/webhook

migrations/
â””â”€â”€ 0002_subscriptions.sql  â† CREATE TABLE subscriptions

public/static/
â””â”€â”€ subscription-module.js  â† ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸
```

**Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”**:
```sql
CREATE TABLE subscriptions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  plan TEXT NOT NULL, -- 'magic_basic'
  status TEXT NOT NULL, -- 'active' | 'expired' | 'canceled'
  started_at DATETIME,
  expired_at DATETIME,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id)
);
```

**Ğ›Ğ¾Ğ³Ğ¸ĞºĞ°**:
- Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ĞºĞ° + ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ â†’ Ğ‘Ğ•Ğ¡ĞŸĞ›ĞĞ¢ĞĞ
- ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Â«ĞœĞ°Ğ³Ğ¸ÑÂ» â†’ Ğ¿Ñ€ĞµÑĞµÑ‚Ñ‹ Ğ²Ğ¸Ğ´ĞµĞ¾ + Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ğ°Ñ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ

---

### 4ï¸âƒ£ ĞšĞĞĞŸĞšĞ Â«ĞœĞĞ“Ğ˜Ğ¯Â» Ğ˜ PAYWALL

**ĞĞ¾Ğ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹**:
```
public/static/
â”œâ”€â”€ magic-button.js         â† ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ĞœĞ°Ğ³Ğ¸Ñ" Ğ½Ğ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğµ
â””â”€â”€ paywall-modal.js        â† Ğ­ĞºÑ€Ğ°Ğ½ paywall
```

**Ğ›Ğ¾Ğ³Ğ¸ĞºĞ°**:
```
1. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ² â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "ĞœĞ°Ğ³Ğ¸Ñ"
2. ĞšĞ»Ğ¸Ğº â†’ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ GET /api/subscription/status
3. Ğ•ÑĞ»Ğ¸ status != 'active' â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ paywall
4. ĞŸĞ¾ÑĞ»Ğµ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹ â†’ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ ÑĞºÑ€Ğ°Ğ½ "ĞœĞ°Ğ³Ğ¸Ğ¸"
```

---

### 5ï¸âƒ£ Â«ĞœĞĞ“Ğ˜Ğ¯Â»: ĞŸĞ Ğ•Ğ¡Ğ•Ğ¢Ğ« Ğ”Ğ›Ğ¯ Ğ’Ğ˜Ğ”Ğ•Ğ

**ĞĞ¾Ğ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹**:
```
api/
â””â”€â”€ magic/
    â”œâ”€â”€ video-create.js     â† POST /api/magic/video
    â””â”€â”€ video-status.js     â† GET /api/magic/video/:task_id

migrations/
â””â”€â”€ 0003_magic_tasks.sql    â† CREATE TABLE magic_tasks

public/
â””â”€â”€ magic.html              â† Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° "ĞœĞ°Ğ³Ğ¸Ñ"

public/static/
â””â”€â”€ magic-presets.js        â† ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ¿Ñ€ĞµÑĞµÑ‚Ğ¾Ğ²
```

**Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”**:
```sql
CREATE TABLE magic_tasks (
  id TEXT PRIMARY KEY, -- task_id (UUID)
  user_id INTEGER NOT NULL,
  fitting_id INTEGER,
  preset_type TEXT NOT NULL,
  status TEXT NOT NULL, -- 'pending' | 'processing' | 'completed' | 'failed'
  video_url TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (fitting_id) REFERENCES fittings(id)
);
```

---

### 6ï¸âƒ£ Ğ˜Ğ¡Ğ¢ĞĞ Ğ˜Ğ¯ ĞŸĞ Ğ˜ĞœĞ•Ğ ĞĞš

**ĞĞ¾Ğ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹**:
```
api/
â””â”€â”€ fittings/
    â”œâ”€â”€ list.js             â† GET /api/fittings?limit=...
    â”œâ”€â”€ get.js              â† GET /api/fittings/:id
    â””â”€â”€ delete.js           â† DELETE /api/fittings/:id

migrations/
â””â”€â”€ 0004_fittings.sql       â† CREATE TABLE fittings

public/
â””â”€â”€ history.html            â† Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸

public/static/
â””â”€â”€ history-module.js       â† ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸
```

**Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”**:
```sql
CREATE TABLE fittings (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  input_image_url TEXT NOT NULL,
  outfit_image_url TEXT NOT NULL,
  result_image_url TEXT NOT NULL,
  description_json TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id)
);
```

**Ğ›Ğ¾Ğ³Ğ¸ĞºĞ°**:
- Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¾ â†’ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 5 Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ¾Ğº (Ğ²ÑĞµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸)
- ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Â«ĞœĞ°Ğ³Ğ¸ÑÂ» â†’ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ğ°Ñ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ (Ğ²ÑĞµ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ĞºĞ¸)

---

### 7ï¸âƒ£ Ğ¤Ğ˜Ğ§Ğ•-Ğ¤Ğ›ĞĞ“Ğ˜

**ĞĞ¾Ğ²Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ»**:
```
.dev.vars (Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ):
FEATURE_MAGIC_ENABLED=false
FEATURE_SUBSCRIPTION_ENABLED=false
FEATURE_HISTORY_ENABLED=false
FEATURE_TERMS_ENABLED=true
```

**ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ**:
```javascript
// Ğ’ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ½Ğ¾Ğ²Ğ¾Ğ¼ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğµ
if (process.env.FEATURE_MAGIC_ENABLED !== 'true') {
  return new Response(
    JSON.stringify({ error: 'Feature disabled' }), 
    { status: 503 }
  );
}
```

---

## ğŸ—‚ï¸ Ğ¤Ğ˜ĞĞĞ›Ğ¬ĞĞĞ¯ Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ ĞŸĞ ĞĞ•ĞšĞ¢Ğ

```
webapp/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ describe.js         â† ğŸ”’ CORE (ĞĞ• Ğ¢Ğ ĞĞ“ĞĞ¢Ğ¬)
â”‚   â”œâ”€â”€ generate.js         â† ğŸ”’ CORE (ĞĞ• Ğ¢Ğ ĞĞ“ĞĞ¢Ğ¬)
â”‚   â”œâ”€â”€ user/               â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚   â”‚   â”œâ”€â”€ create.js
â”‚   â”‚   â”œâ”€â”€ get.js
â”‚   â”‚   â””â”€â”€ update.js
â”‚   â”œâ”€â”€ terms/              â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚   â”‚   â”œâ”€â”€ accept.js
â”‚   â”‚   â””â”€â”€ status.js
â”‚   â”œâ”€â”€ subscription/       â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚   â”‚   â”œâ”€â”€ status.js
â”‚   â”‚   â”œâ”€â”€ create.js
â”‚   â”‚   â””â”€â”€ webhook.js
â”‚   â”œâ”€â”€ magic/              â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚   â”‚   â”œâ”€â”€ video-create.js
â”‚   â”‚   â””â”€â”€ video-status.js
â”‚   â””â”€â”€ fittings/           â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚       â”œâ”€â”€ list.js
â”‚       â”œâ”€â”€ get.js
â”‚       â””â”€â”€ delete.js
â”œâ”€â”€ migrations/             â† âœ… ĞĞĞ’ĞĞ¯ ĞŸĞĞŸĞšĞ
â”‚   â”œâ”€â”€ 0001_users.sql
â”‚   â”œâ”€â”€ 0002_subscriptions.sql
â”‚   â”œâ”€â”€ 0003_magic_tasks.sql
â”‚   â””â”€â”€ 0004_fittings.sql
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html          â† ğŸ”’ CORE (ĞĞ• Ğ¢Ğ ĞĞ“ĞĞ¢Ğ¬)
â”‚   â”œâ”€â”€ terms.html          â† âœ… ĞĞĞ’ĞĞ¯ Ğ¡Ğ¢Ğ ĞĞĞ˜Ğ¦Ğ
â”‚   â”œâ”€â”€ privacy.html        â† âœ… ĞĞĞ’ĞĞ¯ Ğ¡Ğ¢Ğ ĞĞĞ˜Ğ¦Ğ
â”‚   â”œâ”€â”€ magic.html          â† âœ… ĞĞĞ’ĞĞ¯ Ğ¡Ğ¢Ğ ĞĞĞ˜Ğ¦Ğ
â”‚   â”œâ”€â”€ history.html        â† âœ… ĞĞĞ’ĞĞ¯ Ğ¡Ğ¢Ğ ĞĞĞ˜Ğ¦Ğ
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ app.js          â† ğŸ”’ CORE (ĞĞ• Ğ¢Ğ ĞĞ“ĞĞ¢Ğ¬)
â”‚       â”œâ”€â”€ style.css       â† ğŸ”’ CORE (ĞĞ• Ğ¢Ğ ĞĞ“ĞĞ¢Ğ¬)
â”‚       â”œâ”€â”€ auth-module.js  â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚       â”œâ”€â”€ terms-modal.js  â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚       â”œâ”€â”€ subscription-module.js â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚       â”œâ”€â”€ magic-button.js â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚       â”œâ”€â”€ paywall-modal.js â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚       â”œâ”€â”€ magic-presets.js â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚       â””â”€â”€ history-module.js â† âœ… ĞĞĞ’Ğ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”œâ”€â”€ .dev.vars               â† ğŸ”’ CORE + Ğ½Ğ¾Ğ²Ñ‹Ğµ Ñ„Ğ»Ğ°Ğ³Ğ¸
â”œâ”€â”€ wrangler.jsonc          â† Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ D1 binding
â””â”€â”€ MVP_GOLDEN_VERSION.md   â† ğŸ”’ Ğ­Ğ¢ĞĞ›ĞĞ
```

---

## ğŸ¯ ĞŸĞ›ĞĞ Ğ Ğ•ĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ˜ (ĞŸĞĞ¨ĞĞ“ĞĞ’Ğ)

### Ğ­Ñ‚Ğ°Ğ¿ 1: Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (D1)
1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ D1 Ğ±Ğ°Ğ·Ñƒ Ğ² Cloudflare
2. ĞĞ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ (users, subscriptions, magic_tasks, fittings)
3. ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¸ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞµĞ½Ğµ

### Ğ­Ñ‚Ğ°Ğ¿ 2: ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
1. `api/user/*` endpoints
2. `auth-module.js` (Telegram Mini App + Web)
3. Middleware Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ user_id

### Ğ­Ñ‚Ğ°Ğ¿ 3: Ğ®Ñ€Ğ¸Ğ´Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ±Ğ»Ğ¾Ğº
1. `terms.html`, `privacy.html`
2. `api/terms/*` endpoints
3. `terms-modal.js` (Ñ‡ĞµĞºĞ±Ğ¾ĞºÑ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸)
4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `terms_accepted_at` Ğ² `api/generate.js`

### Ğ­Ñ‚Ğ°Ğ¿ 4: ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ°
1. `api/subscription/*` endpoints
2. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞºĞ¸ (Stripe/Paddle)
3. `subscription-module.js`
4. Webhook Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº

### Ğ­Ñ‚Ğ°Ğ¿ 5: ĞšĞ½Ğ¾Ğ¿ĞºĞ° Â«ĞœĞ°Ğ³Ğ¸ÑÂ»
1. `magic-button.js` (Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿Ğ¾ÑĞ»Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°)
2. `paywall-modal.js` (ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸)
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸

### Ğ­Ñ‚Ğ°Ğ¿ 6: ĞŸÑ€ĞµÑĞµÑ‚Ñ‹ Ğ²Ğ¸Ğ´ĞµĞ¾
1. `api/magic/*` endpoints
2. `magic.html` ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
3. `magic-presets.js` (Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ¿Ñ€ĞµÑĞµÑ‚Ğ°)
4. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ (Runway/Kling Ñ‡ĞµÑ€ĞµĞ· Fal.ai?)

### Ğ­Ñ‚Ğ°Ğ¿ 7: Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ
1. `api/fittings/*` endpoints
2. `history.html` ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
3. `history-module.js` (ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ¾Ğº)
4. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ fitting Ğ¿Ñ€Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸

---

## âœ… Ğ¡Ğ›Ğ•Ğ”Ğ£Ğ®Ğ©Ğ˜Ğ™ Ğ¨ĞĞ“

**Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµĞ¼ ÑĞµĞ¹Ñ‡Ğ°Ñ?**

1. **Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ Git tag Ğ´Ğ»Ñ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸** (MVP-GOLDEN-v1.0 ÑƒĞ¶Ğµ ĞµÑÑ‚ÑŒ)
2. **Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ğ½ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ Ğ‘Ğ”**
3. **ĞĞ°Ñ‡Ğ¸Ğ½Ğ°Ñ Ñ Ğ­Ñ‚Ğ°Ğ¿Ğ° 1: Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**

**ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ğ°ĞµÑ‚Ğµ Ğ¿Ğ»Ğ°Ğ½?** Ğ˜Ğ»Ğ¸ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ/Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ?
